
{% extends "layout.html"%}

{% block content %}
<div>
        <form method="POST" action="">
            {{ form.hidden_tag() }}
            <fieldset>
                <h3>Search</h3>
                <div>
                    <b>{{ form.title.label() }}</b>
                    {% if form.title.errors %}
                        {{ form.title }}
                        <div>
                            {% for error in form.title.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                    {{ form.title }}
                    {% endif %}
                </div> 
                <div>
                    <b>{{ form.author.label() }}</b>
                    {% if form.author.errors %}
                        {{ form.title }}
                        <div>
                            {% for error in form.author.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                    {{ form.author }}
                    {% endif %}
                </div>
                <div>
                    <b>{{ form.category.label() }}</b>
                    {% if form.category.errors %}
                        {{ form.category }}
                        <div>
                            {% for error in form.category.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                    {% for choice in form.category.choices %}
                    <div class="form-check">
                        <input type="checkbox" name="category" value="{{choice}}">
                        <label for="{{choice}}"> {{choice}}</label><br>
                    </div>
                    {% endfor %}
                    {% endif %}
                </div>
            </fieldset>
                <div>
                    {{ form.search }}
                </div> 
                {% if session.get('user_role') == 'l' %}   
                 <br><br>
            <fieldset>
                <h3>Search by Copies</h3>
                <div>
                    <b>{{ copies.copies.label() }}</b>
                    {% if copies.copies.errors %}
                        {{ copies.copies }}
                        <div>
                            {% for error in copies.copies.errors %}
                                <span>{{ error }}</span>
                            {% endfor %}
                        </div>
                    {% else %}
                    {{ copies.copies }}
                    {% endif %}
                </div>
            </fieldset>
            <div>
                {{ copies.search_cp }}
            </div> 
            {% endif %}
    </div>
{% endblock %}
